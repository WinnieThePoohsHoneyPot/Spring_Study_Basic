## 주문 , 주문 상품 엔티티 개발

- 엔티티에 핵심 비즈니스 로직을 넣는다.

## 주문 서비스 개발

- cascade 범위를 어디까지 해야할까
  - 권장하는 cascade 범위는 , 완전히 개인이 소유하는 엔티티일 때
  - persist하는 라이프 사이클이 같을 때
  - Order는 OrderItem을 개인 소유한다.
  - 애매하면 사용하지 않는다.
- 유지보수 목적으로 생성자를 protected로 생성을 막는다.
  - @NoArgsConstructor(access = AccessLevel.PROTECTED)
- jpa를 활용하면 데이터 변경을 감지하고 (더티체킹) 데이터 베이스 쿼리가 자동으로 날라간다.
- 도메인 모델 패턴 : 엔티티가 비즈니스 로직을 가지고 객체 지향의 특성을 적극 활용하는것
  - ex ) 주문 서비스의 주문과 주문 취소 메서드같은 비즈니스 로직이 엔티티에 있음
- 트랜잭션 스크립트 패턴 : 엔티티에는 비즈니스 로직이 거의 없고 서비스 계층에서 대부분의 비즈니스 로직을 처리한다.

## 주문 검색 기능 개발

- JPA에서 동적 쿼리를 어떻게 해결해야하는가
  - 검색어가 없다면 모두 가져오고 검색어가 있다면 검색어에 따른 결과를 가져와야함
  - Querydsl로 처리
