# 상태코드

⇒ 클라이언트가 인식할 수 없는 상태코드를 서버가 반환하면 상위 상태코드로 처리한다.

ex. 299 ⇒ 200대이니 요청이 정상처리되었다고 인식

<br>


### 1XX [ informational ]

⇒ 요청이 수신되어 처리중

⇒ 거의 사용되지않음

<br>


---

<br>


### 2XX [ Successful ]

⇒ 요청 정상 처리

1. 200
    
    ⇒ OK로 요청성공
    
2. 201
    
    ⇒ Created로 요청 성공해서 새로운 리소스가 생성된 것
    
    ⇒ 생성된 응답의 location 헤더 필드로 리소스 식별
    
3. 202
    
    ⇒ Accepted로 요청이 접수는 되었으나 처리가 되지않은 것
    
4. 204
    
    ⇒ No Content로 서버가 요청을 성공적으로 수행했지만, 
        응답 페이로드 본문에 보낼 데이터가 없는 것
    
    ex. 웹 문서 편집기에서 save버튼
    
    → 저장 버튼의 결과로 아무 내용이 없어도 된다.
    
    → 저장 버튼을 눌러도 같은 화면을 유지
    

<br>


---

<br>


### 3XX [ Redirection ]

<br>


- redirection?
    
    ⇒ 응답 결과에 location 헤더가 있으면 location 위치로 자동 이동


    <img width="735" alt="%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-04-14_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_6 37 20" src="https://github.com/dpqls0356/Spring_Study_Basic/assets/83651122/11ee8036-0f0a-48e5-b7ee-3d0587677f4a">

    
    redirection의 종류
    
    1. 영구 리다리엑션 
        
        ⇒ 특정 리소스의 URI로 영구 이동 , 원래의 URL 사용 불가
        
        ⇒ 301, 308
        
    2. 일시 리다이렉션 
        
        ⇒ 일시적인 변경 [ 주문 완료 후 주문 내역 화면으로 이동 ]
        
        ⇒ 302, 307, 303
        
    3. 특수 리다이렉션 
        
        ⇒ 결과 대신 캐시 사용
        

<br>


3xx : 요청을 완료하려면 추가 행동이 필요할 경우 날리는 상태코드

1. 301 Moved Permanently [ 영구 ]
    
    ⇒ 리다이렉트시 요청 메서드가 get으로 변하고 본문이 제거될 수 있음
   
    <img width="752" alt="%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-04-14_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_7 06 14" src="https://github.com/dpqls0356/Spring_Study_Basic/assets/83651122/afdc8954-c461-43bb-8fd4-31846e805511">

    
3. 302 Found [ 일시 ]
    
    ⇒ 리다이렉트시 요청 메서드가 get으로 변하고 본문이 제거 될 수 있다.
    
4. 303 See Other [ 일시 ]
    
    ⇒ 302와 기능은 같지만 리다이렉트시 요청 메서드와 본문 유지
    
    ⇒ 요청 메서드를 변경하면 안된다.
    
5. 304 Not Modified
    
    ⇒ 캐시를 목적으로 사용
    
    ⇒ 클라이언트에게 리소스가 수정되지않았음을 알린다.
    
    → 클라이언트는 로컬PC에 저장된 캐시를 재사용 [ 캐시로 리다이렉트 ]
    
    ⇒ 304응답은 응답에 메시지 바디를 포함하면 안된다.
    
    → 로컬캐시를 쓸 것이기때문
    
    ⇒ 조건부 get,head 요청 시 사용
    

6. 307 Temporary Redirect [ 일시 ]
    
    ⇒ 302와 기능은 같지만 리다이렉트시 요청 메서드가 get으로 변경된다.
    
7. 308 Permanent Redirect [ 영구 ]
    
    ⇒ 301과 기능은 같지만 리다이렉트시 요청 메서드와 본문 유지
    

<br>


### PRG [ post - redirection - get ]

PRG 사용 전

<img width="883" alt="%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-04-14_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_7 14 51" src="https://github.com/dpqls0356/Spring_Study_Basic/assets/83651122/f8afa8da-fc52-4503-b48a-262d603f735a">


<br>


PRG사용 후

⇒ post로 주문 후에 새로고침으로 인한 중복 주문 방지

⇒ post로 주문 후 주문 결과 화면을 get 메서드로 리다이렉트

⇒ 새로고침해도 결과 화면을 get으로 조회 → 중복주문 대신 결과 화면만 get으로 다시 요청하는 것

<img width="904" alt="%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-04-14_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_7 17 19" src="https://github.com/dpqls0356/Spring_Study_Basic/assets/83651122/2baf8a13-f65f-4d78-bc40-2dd52816cd9a">


<br>


---

<br>


### 4XX [ Client Error ]

⇒ 클라이언트 오류, 잘못된 문법등으로 서버가 요청을 수행할 수 없음

⇒ 원인이 클라이언트!!! 그렇기에 똑같은 재시도를 해도 실패한다.

1. 400 [ Bad Request ]
    
    ⇒ 클라이언트가 잘못된 요청을 해서 서버가 요청을 처리할 수 없을 때
    
    ⇒ 요청 구문, 메세지 등의 오류 [ 파라미터가 잘못 되어있거나 API 스펙이 맞지 않을 때 ]
    
    ⇒ 클라이언트는 요청 내용을 다시 검토하고 보내야한다.
    
2. 401 [ Unauthorized ]
    
    ⇒ 클라이언트가 해당 리소스에 대한 인증이 필요
    
    ⇒ 401 오류 발생 시 응답에 WWW-Authenticate 헤더와 함께 인증방법을 설명한다.
    
    인증 ? 인가 ?
    
    - 인증 authentication
        
        ⇒ 본인이 누구인지 확인 [ 로그인 ]
        
    - 인가 authorization
        
        ⇒ 권한 부여 
        

3. 403 [ Forbidden ]
    
    ⇒ 주로 인증 자격 증명은 있지만, 접근 권한이 불충분한 경우
    
    ex. 어드민 등급이 아닌 사용자가 로그인 했지만, 어드민 등급의 리소스에 접근할 때 발생
    
4. 404 [ Not Found ]
    
    ⇒ 요청 리소스가 서버에 없는 것 or 권한이 부족한 리소스에 접근할 때 403을 숨기고 싶을때 사용
    

<br>


---

<br>

### 5XX [ Server Error ]

⇒ 서버 오류, 서버가 정상 요청을 처리하지 못한 것

1. 500 [ Internal Server Error ]
    
    ⇒ 서버 내부 문제로 오류 발생
    

2. 503 [ Service Unavailable ] 
    
    ⇒ 서버가 일시적인 과부하 또는 예정된 작업으로 잠시 요청을 처리할 수 없을 때 발생
    
    ⇒ retry - after 헤더를 통해 복구시작 일정을 알릴 수 있다.
